<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SupplyLine MRO Suite - Installer Builder</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .section {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .section h2 {
            margin-top: 0;
            color: #fff;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
        }
        
        .platform-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .platform-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .platform-card:hover {
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .platform-card.selected {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.2);
        }
        
        .platform-icon {
            font-size: 3em;
            margin-bottom: 10px;
            display: block;
        }
        
        button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin: 10px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        
        .build-output {
            background: #1e1e1e;
            color: #00ff00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
            display: none;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .status {
            text-align: center;
            font-weight: bold;
            margin: 15px 0;
        }
        
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .warning { color: #ff9800; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ SupplyLine MRO Suite<br>Installer Builder</h1>
        
        <div class="section">
            <h2>üìã Build Instructions</h2>
            <p>This tool helps you create installers for the SupplyLine MRO Suite. Select your target platform(s) and click build!</p>
            <ul>
                <li><strong>Windows:</strong> Creates NSIS installer (.exe) and portable version</li>
                <li><strong>macOS:</strong> Creates DMG package for Mac computers</li>
                <li><strong>Linux:</strong> Creates AppImage and DEB package</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>üéØ Select Target Platform(s)</h2>
            <div class="platform-grid">
                <div class="platform-card" data-platform="win">
                    <span class="platform-icon">ü™ü</span>
                    <h3>Windows</h3>
                    <p>NSIS + Portable</p>
                </div>
                <div class="platform-card" data-platform="mac">
                    <span class="platform-icon">üçé</span>
                    <h3>macOS</h3>
                    <p>DMG Package</p>
                </div>
                <div class="platform-card" data-platform="linux">
                    <span class="platform-icon">üêß</span>
                    <h3>Linux</h3>
                    <p>AppImage + DEB</p>
                </div>
                <div class="platform-card" data-platform="all">
                    <span class="platform-icon">üåç</span>
                    <h3>All Platforms</h3>
                    <p>Everything</p>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>üîß Build Actions</h2>
            <div style="text-align: center;">
                <button onclick="runPreCheck()">üîç Check Environment</button>
                <button onclick="buildInstaller()" id="buildBtn" disabled>üèóÔ∏è Build Installer</button>
                <button onclick="cleanBuild()">üßπ Clean Build Files</button>
            </div>
            
            <div class="progress-bar" id="progressBar" style="display: none;">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="status" id="status"></div>
            
            <div class="build-output" id="output"></div>
        </div>
    </div>

    <script>
        let selectedPlatforms = [];
        
        // Platform selection
        document.querySelectorAll('.platform-card').forEach(card => {
            card.addEventListener('click', () => {
                const platform = card.dataset.platform;
                
                if (platform === 'all') {
                    // Clear other selections and select all
                    document.querySelectorAll('.platform-card').forEach(c => c.classList.remove('selected'));
                    card.classList.add('selected');
                    selectedPlatforms = ['all'];
                } else {
                    // Remove 'all' selection if specific platform selected
                    document.querySelector('[data-platform="all"]').classList.remove('selected');
                    
                    if (card.classList.contains('selected')) {
                        card.classList.remove('selected');
                        selectedPlatforms = selectedPlatforms.filter(p => p !== platform);
                    } else {
                        card.classList.add('selected');
                        selectedPlatforms.push(platform);
                    }
                }
                
                updateBuildButton();
            });
        });
        
        function updateBuildButton() {
            const buildBtn = document.getElementById('buildBtn');
            buildBtn.disabled = selectedPlatforms.length === 0;
        }
        
        function setStatus(message, type = '') {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = `status ${type}`;
        }
        
        function showProgress(show = true) {
            const progressBar = document.getElementById('progressBar');
            progressBar.style.display = show ? 'block' : 'none';
        }
        
        function updateProgress(percent) {
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = `${percent}%`;
        }
        
        function showOutput(show = true) {
            const output = document.getElementById('output');
            output.style.display = show ? 'block' : 'none';
        }
        
        function addOutput(text) {
            const output = document.getElementById('output');
            output.textContent += text + '\n';
            output.scrollTop = output.scrollHeight;
        }
        
        function runPreCheck() {
            setStatus('Running environment check...', 'warning');
            showOutput(true);
            addOutput('üîç Checking build environment...');
            
            // Simulate check (in real implementation, this would call the actual check script)
            setTimeout(() => {
                addOutput('‚úÖ Node.js found');
                addOutput('‚úÖ Python found');
                addOutput('‚úÖ Dependencies installed');
                addOutput('‚úÖ Environment check passed!');
                setStatus('Environment check completed successfully!', 'success');
            }, 2000);
        }
        
        function buildInstaller() {
            if (selectedPlatforms.length === 0) return;
            
            const buildBtn = document.getElementById('buildBtn');
            buildBtn.disabled = true;
            
            setStatus('Building installer(s)...', 'warning');
            showProgress(true);
            showOutput(true);
            
            addOutput('üöÄ Starting build process...');
            updateProgress(10);
            
            // Simulate build process
            const steps = [
                { msg: 'üì¶ Installing dependencies...', progress: 20 },
                { msg: 'üèóÔ∏è Building frontend...', progress: 40 },
                { msg: '‚öôÔ∏è Preparing backend...', progress: 60 },
                { msg: 'üì± Creating Electron app...', progress: 80 },
                { msg: 'üì¶ Packaging installer...', progress: 95 },
                { msg: '‚úÖ Build completed!', progress: 100 }
            ];
            
            let stepIndex = 0;
            const interval = setInterval(() => {
                if (stepIndex < steps.length) {
                    const step = steps[stepIndex];
                    addOutput(step.msg);
                    updateProgress(step.progress);
                    stepIndex++;
                } else {
                    clearInterval(interval);
                    setStatus('Build completed successfully!', 'success');
                    addOutput('');
                    addOutput('üìÅ Installers created in the "dist" folder:');
                    
                    if (selectedPlatforms.includes('all') || selectedPlatforms.includes('win')) {
                        addOutput('  - SupplyLine MRO Suite Setup.exe (Windows NSIS)');
                        addOutput('  - SupplyLine-MRO-Suite-portable.exe (Windows Portable)');
                    }
                    if (selectedPlatforms.includes('all') || selectedPlatforms.includes('mac')) {
                        addOutput('  - SupplyLine MRO Suite.dmg (macOS)');
                    }
                    if (selectedPlatforms.includes('all') || selectedPlatforms.includes('linux')) {
                        addOutput('  - SupplyLine-MRO-Suite.AppImage (Linux)');
                        addOutput('  - supplyline-mro-suite.deb (Linux DEB)');
                    }
                    
                    buildBtn.disabled = false;
                }
            }, 1500);
        }
        
        function cleanBuild() {
            setStatus('Cleaning build files...', 'warning');
            showOutput(true);
            addOutput('üßπ Cleaning build artifacts...');
            
            setTimeout(() => {
                addOutput('‚úÖ Build files cleaned!');
                setStatus('Clean completed!', 'success');
            }, 1000);
        }
        
        // Initialize
        setStatus('Ready to build! Select platform(s) and click build.');
    </script>
</body>
</html>
